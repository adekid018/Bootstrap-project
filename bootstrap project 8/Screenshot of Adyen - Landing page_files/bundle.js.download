(()=>{function e(e){var t=document.querySelector(".navbar-search.active");t&&t&&!t.contains(e.target)&&(e.target.blur(),t.classList.remove("active"))}function t(e,t){e.length>0&&(Array.prototype.forEach.call(e,(function(e){e.style.background="transparent"})),parseInt(t)>0&&(e[parseInt(t)-1].style.background="rgba(10, 10, 10, 0.1)"))}var r=document.querySelector(".navbar-search");if(r=document.querySelector(".navbar-search")){var o=r.querySelector("input");o.addEventListener("focus",(function(e){e.preventDefault();var t=e.target.closest(".navbar-search");t.classList.add("active"),t.querySelectorAll(".quick-search-results .quick-search-results-section li").forEach((function(e){e.classList.add("shown")}))})),o.addEventListener("keyup",(function(e){if(r){var o=e.target,n=r.querySelectorAll(".quick-search-results-section"),a=r.querySelector(".quick-search-results-section-filtered"),l=o.value.toUpperCase(),s=r.querySelectorAll(".quick-search-results li"),i=r.getAttribute("data-selected-position"),c=r.querySelectorAll(".quick-search-results li.shown");l.length>0?(c=a.querySelectorAll("li.shown"),a.style.display="block",r.querySelector("p").style.display="none",n.forEach((function(e){e.style.display="none"}))):(a.querySelectorAll("li",(function(e){e.classList.remove("shown")})),c=r.querySelectorAll(".quick-search-results-section li.shown"),a.style.display="none",r.querySelector("p").style.display="block",n.forEach((function(e){e.style.display="block"})));var u=c.length;if("ArrowUp"===e.key)e.preventDefault(),e.stopPropagation(),parseInt(i)>0?(i=parseInt(i)-1,r.setAttribute("data-selected-position",i)):c.length>0&&(i=c.length,r.setAttribute("data-selected-position",i)),t(c,i);else if("ArrowDown"===e.key)e.preventDefault(),e.stopPropagation(),console.log(i,u),parseInt(i)<u?(i=parseInt(i)+1,r.setAttribute("data-selected-position",i)):parseInt(i)>u-1&&(i=1,r.setAttribute("data-selected-position",i)),t(c,i);else if("Escape"===e.key)e.preventDefault(),e.stopPropagation(),o.value="",function(e){var t=document.querySelector(".navbar-search");t&&(t.blur(),t.classList.remove("active"),t.querySelectorAll(".quick-search-results li").forEach((function(e){e.classList.remove("shown")})))}();else if("Enter"===e.key&&c[parseInt(i)-1])e.preventDefault(),e.stopPropagation(),window.location=c[parseInt(i)-1].querySelector("a").getAttribute("href");else{r.classList.contains("active")||r.classList.add("active"),function(e){e.setAttribute("data-selected-position",0);var t=e.querySelectorAll(".quick-search-results li");Array.prototype.forEach.call(t,(function(e){e.style.background="transparent"}))}(r);for(var d=0;d<s.length;d++)-1!==s[d].textContent.toUpperCase().trim().indexOf(l.trim())?s[d].classList.add("shown"):s[d].classList.remove("shown")}}}),!0),o.addEventListener("keydown",(function(e){"Escape"!==e.key&&"ArrowDown"!==e.key&&"ArrowUp"!==e.key||e.preventDefault()}),!0),document.addEventListener("focus",e),document.addEventListener("click",e)}function n(e){e.preventDefault();var t,r=e.target.closest(".well");(t=new Date).setTime(t.getTime()+10368e5),document.cookie="hide_most_optins=true;path=/;expires="+t.toGMTString(),r.style.display="none"}function a(e){e.preventDefault(),e.target.closest(".alert").style.display="none"}function l(e){var t=e.target.closest(".screen-thumb-image-wrapper").querySelector("span");t&&(t.style.opacity="0")}function s(e){for(var t=e.querySelectorAll(".filter-section-all li"),r=0;r<t.length;r++)t[r].classList.add("shown");e.setAttribute("data-selected-position",0),Array.prototype.forEach.call(t,(function(e){e.style.background="transparent"}))}function i(e){s(e),e.classList.remove("expanded");var t=e.querySelector(".filter-section-title");t&&(t.textContent="",t.blur())}function c(e,t){e.length>0&&(Array.prototype.forEach.call(e,(function(e){e.style.background="transparent"})),parseInt(t)>0&&(e[parseInt(t)-1].style.background="rgba(10, 10, 10, 0.1)"))}function u(e){var t=e.target,r=e.target.closest(".filter-section"),o=t.textContent.toUpperCase(),n=r.querySelectorAll(".filter-section-all .shown"),a=r.querySelectorAll(".filter-section-all li"),l=r.getAttribute("data-selected-position"),s=n.length;if("ArrowUp"===e.key)e.preventDefault(),e.stopPropagation(),parseInt(l)>0?(l=parseInt(l)-1,r.setAttribute("data-selected-position",l)):n.length>0&&(l=n.length,r.setAttribute("data-selected-position",l)),c(n,l);else if("ArrowDown"===e.key)e.preventDefault(),e.stopPropagation(),console.log(l,s),parseInt(l)<s?(l=parseInt(l)+1,r.setAttribute("data-selected-position",l)):parseInt(l)>s-1&&(l=1,r.setAttribute("data-selected-position",l)),c(n,l);else if("Escape"===e.key)e.preventDefault(),e.stopPropagation(),i(r);else if("Enter"===e.key&&n[parseInt(l)-1])e.preventDefault(),e.stopPropagation(),window.location=n[parseInt(l)-1].querySelector("a").getAttribute("href");else{!function(e){e.setAttribute("data-selected-position",0);var t=e.querySelectorAll("li");Array.prototype.forEach.call(t,(function(e){e.style.background="transparent"}))}(r);for(var u=0;u<a.length;u++)-1!==a[u].textContent.toUpperCase().trim().indexOf(o.trim())?a[u].classList.add("shown"):a[u].classList.remove("shown")}}function d(e){"Escape"!==e.key&&"Enter"!==e.key&&"ArrowDown"!==e.key&&"ArrowUp"!==e.key||e.preventDefault()}function p(e){e.preventDefault(),e.stopPropagation();var t=e.target.closest(".filter-section");t.classList.contains("expanded")||function(e){s(e),e.classList.add("expanded");var t=e.querySelector(".filter-section-title");t&&(t.textContent="",t.focus())}(t)}function f(e){e.preventDefault(),i(e.target.closest(".filter-section"))}function y(e){const t=e.target,r=t.querySelector("video");t.querySelector(".loading-indicator").innerText="Loading...",r.play(),t.dataset.videoState="loading"}function v(e){e.preventDefault(),e.stopPropagation(),y(e)}function h(e){e.target.style.boxShadow="0 0 8px rgba(0, 0, 0, 30%)"}function g(e){const t=e.target.closest(".play-video-on-hover");t.querySelector(".loading-indicator").style.display="none",t.dataset.videoState="playing"}document.querySelectorAll(".well .close-well").forEach((function(e){e.addEventListener("click",n)})),document.querySelectorAll(".alert .close-alert").forEach((function(e){e.addEventListener("click",a)})),document.querySelectorAll(".screen-thumb-image-wrapper").forEach((function(e){var t=e.querySelector("img");if(t&&(t.addEventListener("load",l),t.complete)){var r=e.querySelector("span");r&&(r.style.opacity=0)}})),document.querySelectorAll(".show-more-filters-button a").forEach((function(e){e.addEventListener("click",p)})),document.querySelectorAll(".filter-section-header").forEach((function(e){e.querySelector(".filter-section-title").addEventListener("keyup",u,!0),e.querySelector(".filter-section-title").addEventListener("keydown",d,!0),e.querySelector(".filter-section-title").addEventListener("focus",p,!0),e.querySelector(".close-icon").addEventListener("click",f),e.querySelector(".search-icon").addEventListener("click",p)})),document.querySelectorAll(".play-video-on-hover").forEach((function(e){e.addEventListener("mouseenter",y)})),document.querySelectorAll(".play-video-on-hover .loading-indicator").forEach((function(e){e.addEventListener("click",v)})),document.querySelectorAll(".play-video-on-hover video").forEach((function(e){e.addEventListener("playing",g),e.addEventListener("loadedmetadata",h)}))})();