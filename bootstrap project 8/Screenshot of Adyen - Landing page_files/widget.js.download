(()=>{"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var e;function o(e){var o;for("object"===t(e)?o=e[0]||e:"string"==typeof e&&(o=document.querySelector(e));"object"===t(o)&&"body"!==o.nodeName.toLowerCase();){if("fixed"===window.getComputedStyle(o).getPropertyValue("position").toLowerCase())return!0;o=o.parentElement}return!1}function n(t,e,n){var i,r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=0,l=0,d="0px;",c="0px;",y=t.getBoundingClientRect(),u=e.getBoundingClientRect();s=u.x,l=u.y,r=s>y.x,i=l>y.y;var f=n;window.innerWidth<n&&(f=window.innerWidth);var p,b,h=parseInt(e.dataset.height,10),w=o(t),m=window.innerHeight;window.visualViewport&&window.visualViewport.height&&(m=window.visualViewport.height),y.bottom+h>m&&a&&m>h+100?i=!1:a&&(i=!0),y.left+(f+50)>window.innerWidth&&a&&window.innerWidth>f+100?r=!1:a&&(r=!0),b=m<h+100,(p=window.innerWidth<f+100)?(e.style.left="50%",e.style.width="95%",e.querySelector("iframe").style.width="100%"):(e.style.left="0",e.style.width="".concat(f,"px")),e.style.top=b?"50%":"0",w?(e.style.position="fixed",y={top:t.offsetTop,left:t.offsetLeft,bottom:t.offsetTop+t.offsetHeight,right:t.offsetLeft+t.offsetWidth},s=Math.round(y.left),l=Math.round(y.bottom+10),i||(l=Math.round(y.top-10-h)),r||(s=Math.round(y.right-f)),d=p?"-50%":"".concat(s,"px"),b?(e.style.bottom="20px",e.style.top="auto",c="0"):c="".concat(l,"px"),e.style.transform="translate3d(".concat(d,", ").concat(c,", 0)")):(e.style.position="absolute",s=Math.round(y.left+window.scrollX),l=Math.round(y.bottom+window.scrollY+10),i||(l=Math.round(y.top+window.scrollY-10-h)),r||(s=Math.round(y.right+window.scrollX-f)),d=p?"-50%":"".concat(s,"px"),c=b?"-50%":"".concat(l,"px"),e.style.transform="translate3d(".concat(d,", ").concat(c,", 0)"))}function i(t,e,o,n){var i,r=t.querySelector("iframe"),a=document.querySelector("".concat(e,'[data-id="').concat(t.dataset.id,'"]')),s=a.dataset.feedbackLanePrefill,l=t.dataset.id,d="https://feedbacklane.com",c="dropdown";t.dataset.type&&(c=t.dataset.type),o.id&&(i=o.id),a.dataset.fblFormId&&(i=a.dataset.fblFormId),o.base_url&&(d=o.base_url),r&&(r.remove(),r.setAttribute("src",""),s?r.setAttribute("src",d+"/".concat(c,"/").concat(i,"/?prefill=").concat(encodeURI(s),"&page=").concat(encodeURIComponent(window.location),"&id=").concat(l).concat(n?"&"+n:"")):r.setAttribute("src",d+"/".concat(c,"/").concat(i,"/?page=").concat(encodeURIComponent(window.location),"&id=").concat(l).concat(n?"&"+n:"")),t.append(r))}function r(t,o,n,r){!function(t){var e="dropdown";if(t.dataset.type&&(e=t.dataset.type),"hidden"!==t.style.visibility){setTimeout((function(){t.style.visibility="hidden",t.style.height="0"}),250);var o=t.querySelector("iframe");"dropdown"===e&&o&&(o.style.opacity=0,t.style.border="none",t.style.boxShadow="none",o.style.boxShadow="none",t.style.pointerEvents="none",t.style.zIndex=-9999999999,o.style.transform="scale(.85)"),"modal"===e&&(t.style.opacity=0,t.style.border="none",t.style.boxShadow="none",t.style.pointerEvents="none",t.style.zIndex=-9999999999,o&&(o.style.boxShadow="none",o.style.transform="scale(.85)",o.style.position="relative",o.style.transform+="translate3d(-50%, -50%, 0)"))}}(t);var a="dropdown";t.dataset.type&&(a=t.dataset.type),t.dataset.reset&&setTimeout((function(){i(t,o,n,r)}),250),"dropdown"===a&&(window.removeEventListener("resize",e,!0),window.removeEventListener("scroll",e,!0),window.visualViewport&&window.visualViewport.removeEventListener("resize",e,!0))}function a(t){var e=t.querySelector("iframe");e.contentWindow.postMessage("update-feedback-l-height",e.src)}function s(t,o,i,s,l,d){t.preventDefault(),t.stopPropagation();var c,y,u=document.querySelector(".".concat(o,"[data-id='").concat(t.currentTarget.dataset.id,"']"));"hidden"===u.style.visibility&&(y=(c=u).querySelector("iframe"),c.style.boxShadow="rgba(174, 174, 174, 0.1) 0px 0px 0px 1px, rgba(83, 83, 83, 0.1) 0px 4px 6px 0px",c.style.visibility="visible",c.style.zIndex=9999999999,y.style.opacity=1,c.style.pointerEvents="auto",c.style.height="".concat(c.dataset.height,"px"),y.style.transform="scale(1)"),a(u),document.querySelectorAll(".".concat(o)).forEach((function(t){t!==u&&r(t,i,s,l)})),n(t.currentTarget,u,d),e=function(t,e,o){return function(){!function(t,e,o){t&&t.dataset.id&&n(document.querySelector("".concat(e,'[data-id="').concat(t.dataset.id,'"]')),t,o)}(t,e,o)}}(u,i,d),window.addEventListener("scroll",e,!0),window.visualViewport.addEventListener("resize",e,!0),window.visualViewport&&window.visualViewport.addEventListener("resize",e,u,!0)}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}function d(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t}!function(t){var e,o="feedback-lane-widget",c={someDefaultConfiguration:!1},y=t[t["Feedback-Lane-JS-Widget"]].q;if(y)for(var u=0;u<y.length;u++)"init"==y[u][0].toLowerCase()&&(c=d(c,y[u][1]));c.data&&(e=Object.entries(c.data).map((function(t){var e=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=o){var n,i,r=[],a=!0,s=!1;try{for(o=o.call(t);!(a=(n=o.next()).done)&&(r.push(n.value),!e||r.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==o.return||o.return()}finally{if(s)throw i}}return r}}(t,e)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?l(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),o=e[0],n=e[1];return"".concat(o,"=").concat(n)})).join("&"))&&(e=e.trim());var f="[data-fbl-form-id]";c.target&&(f=c.target);var p=0;document.querySelectorAll(f).forEach((function(t){t.dataset.id=p;var n="dropdown";t.dataset.fblType&&(n=t.dataset.fblType),t.dataset.id=p;var l=document.createElement("iframe"),d=document.createElement("div");l.name=p,l.width=370,l.style.maxWidth="100%",d.classList.add(o),d.dataset.id=p,d.dataset.type=n,p++,d.appendChild(l),i(d,f,c,e),l.setAttribute("title","Feedback widget"),"dropdown"===n&&(t.addEventListener("click",(function(t){s(t,o,f,c,e,370)})),function(t){var e=t.querySelector("iframe");e.setAttribute("frameborder","0"),e.setAttribute("scrolling","no"),t.style.position="absolute",e.style.background="white",t.style.borderRadius="8px",t.style.height="0",e.style.height="100%",t.style.overflow="hidden",t.style.top="0",t.style.left="0",t.style.visibility="hidden",e.style.opacity=0,e.style.border="none",e.style.boxShadow="none",t.style.pointerEvents="none",t.style.transition="box-shadow 0.25s cubic-bezier(0.68, -0.55, 0.27, 1.55) 0s",e.style.transition="opacity .25s cubic-bezier(0,1,.4,1),transform .25s cubic-bezier(.18,1.25,.4,1)",e.style.transform="scale(.85)"}(d)),"modal"===n&&(t.addEventListener("click",(function(t){!function(t,e,o,n,i,s){t.preventDefault(),t.stopPropagation();var l,d,c=document.querySelector(".".concat(e,"[data-id='").concat(t.currentTarget.dataset.id,"']"));a(c),document.querySelectorAll(".".concat(e)).forEach((function(t){t!==c&&r(t,o,n,i)})),"hidden"===c.style.visibility&&((d=(l=c).querySelector("iframe")).style.boxShadow="rgba(174, 174, 174, 0.1) 0px 0px 0px 1px, rgba(83, 83, 83, 0.1) 0px 4px 6px 0px",l.style.visibility="visible",l.style.zIndex=9999999999,l.style.opacity=1,l.style.pointerEvents="auto",l.style.height="100%",d.style.transform="scale(1)",d.style.transform+="translate3d(-50%, -50%, 0)",d.style.opacity=1)}(t,o,f,c,e)})),function(t){var e=t.querySelector("iframe");e.setAttribute("frameborder","0"),t.style.position="fixed",t.style.top=0,t.style.left=0,t.style.bottom=0,t.style.right=0,t.style.background="rgba(0,0,0,0.1)",t.style.borderRadius="0px",t.style.height="0",e.style.background="white",t.style.visibility="hidden",e.style.position="fixed",e.style.opacity=0,e.style.maxWidth="96%",e.style.maxHeight="96%",e.style.border="none",e.style.boxShadow="none",e.style.top="50%",e.style.left="50%",e.style.borderRadius="8px",t.style.pointerEvents="none",t.style.transition="box-shadow 0.25s cubic-bezier(0.68, -0.55, 0.27, 1.55) 0s",e.style.transition="opacity .25s cubic-bezier(0,1,.4,1),transform .25s cubic-bezier(.18,1.25,.4,1)",e.style.transform="scale(.85)",e.style.transform+="translate3d(-50%, -50%, 0)"}(d)),"embed"===n&&function(t){var e=t.querySelector("iframe");e.setAttribute("frameborder","0"),t.style.position="fixed",e.style.background="red",t.style.borderRadius="0px",t.style.height="0",e.style.height="100%",t.style.overflow="hidden",t.style.top="0",t.style.left="0",t.style.visibility="hidden",e.style.opacity=0,e.style.border="none",e.style.boxShadow="none",t.style.pointerEvents="none",t.style.transition="box-shadow 0.25s cubic-bezier(0.68, -0.55, 0.27, 1.55) 0s",e.style.transition="opacity .25s cubic-bezier(0,1,.4,1),transform .25s cubic-bezier(.18,1.25,.4,1)",e.style.transform="scale(.85)"}(d),document.body.appendChild(d)})),t.addEventListener("message",(function(t){if(t.data.fblWidgetId){var i=t.data,a=i.fblWidgetId,s=(i.fblFormUuid,document.querySelector(".".concat(o,'[data-id="').concat(a,'"]'))),l="dropdown";if(s.dataset.type&&(l=s.dataset.type),"close-iframe"===i.action&&s&&r(s,f,c,e),s&&("widget-feedback-submitted"===i.action?s.dataset.reset=!0:s.dataset.reset=!1),"setHeight"===i.action){var d=i.value;if(d=parseInt(d,10),"dropdown"===l&&(s.dataset.height=d,"visible"===s.style.visibility&&(s.style.height="".concat(d,"px")),n(document.querySelector("".concat(f,'[data-id="').concat(s.dataset.id,'"]')),s,370,i.updatePosition)),"modal"===l){var y=s.querySelector("iframe");y.dataset.height=d,"visible"===s.style.visibility&&(y.style.height="".concat(d,"px"))}}}}),!1)}(window)})();